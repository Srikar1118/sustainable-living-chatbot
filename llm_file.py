import os
import streamlit as st
from streamlit_chat import message
from langchain.document_loaders import OnlinePDFLoader
from langchain.text_splitter import CharacterTextSplitter
from langchain.vectorstores import Chroma
from langchain.chains import RetrievalQA
from langchain.embeddings import CohereEmbeddings
from langchain.prompts import PromptTemplate
from langchain.llms import Cohere


file="What Is Sustainable Living? Sustainability is one of the most popular lifestyle choices of the past decade and will hopefully become second nature to us all in the coming years. As we transition from lives of convenience and fast fashion to lives of environmentally conscious choices, sustainability will continue to permeate almost all of our daily decisions. Sustainable living is achieved by making choices that aim to reduce our individual and collective environmental impact by making positive changes to offset climate change and reduce environmental damage. It is a way to reduce our carbon footprint and better use the Earth’s resources to minimize the environmental damage that can be caused by our lifestyle choices. Sustainability means making choices today that will positively impact the planet tomorrow. It means thinking of the needs of future generations by ensuring that they will inherit a safe and healthy planet to live and thrive on. There are plenty of ways to live more sustainably, like buying local and in-season foods that are farmed sustainably. Foods that aren’t in season often require certain chemicals to be grown that aren’t necessary for in-season foods, or they need to be shipped from somewhere that experiences a very different climate from your own. Sustainable farming discourages waste and encourages low-impact, seasonal diets. Eating less meat (or no meat at all) is another way to live sustainably. Industrial meat is one of the biggest contributors to pollution, deforestation, and greenhouse gas production. Beef and lamb are the most harmful meats when it comes to eating with the environment in mind. Another example of sustainable living is buying items made using recycled materials or designed to be zero-waste. Many cosmetics companies produce items in bottles and jars made from recycled products. You can also find clothing, bedding, and furniture made from recycled materials. What is the importance of sustainable living? Sustainable living is vital for our health — and our planet’s health. Living sustainably can improve our life balance by reducing our dependence on vehicles or machinery. By being less reliant on vehicles, we’re more likely to walk or cycle, which helps us create healthier habits. We can also live healthier lives by consuming high-quality, local foods. As a large proponent of environmental damage, red meats are also unhealthy for our physical health, and by eating less meatbased diets, we’re able to reduce the damage done to our bodies and the planet. We all must throw things away – with almost 8 billion people on the planet, that’s a lot of waste that all has to go somewhere. Landfills are not a healthy option and not a long-term solution, either. Every year, around 150 million tons of trash make it into marine environments. Only compostable products will biodegrade within 6 months – in fact, even biodegradable plastics may outlive us. The only way to curb the amount of trash scattered across the planet is to recycle and use biodegradable materials when possible. Of course, our use of fossil fuels to power our homes, businesses, and transportation creates harmful gases that warm our planet and create more extreme weather conditions. If we don’t act to stop this within the next decade, the damage may be irreversible. What are the three principles of sustainability? There are three main principles of sustainability: social equity, economic viability, and environmental preservation. The social equity pillar refers to societal systems and structures that actively support current and future generations’ ability to live healthily and comfortably. Socially sustainable communities are authentically democratic, diverse, equitable, connected, and provide people with a good living standard. The economic pillar represents strategies used to encourage individuals and corporations to use socio-economic resources to their advantage. Economic sustainability ensures that businesses make a profit without creating social or environmental issues. The environmental pillar of sustainability is probably the best-known, occurring when processes, systems, and activities minimize the environmental impact of their products, facilities, and operations. It focuses on zero-waste product manufacturing, managing energy consumption, and switching to green energy in offices, headquarter buildings, warehouses, and factories. How to Reduce Your Carbon Footprint Climate change can be overwhelming. Science is complex, and when it comes to future impacts, there are still a lot of unknowns. While real solutions will require action on a global scale, there are choices you can make in your day-to-day life to lessen your personal impact on the environment. This guide will walk you through some of them. What Is a Carbon Footprint? A carbon footprint is the total amount of greenhouse gas emissions that come from the production, use and end-of-life of a product or service. It includes carbon dioxide — the gas most emitted by humans — and others, including methane, nitrous oxide, and fluorinated gases, which trap heat in the atmosphere, causing global warming. Usually, the bulk of an individual’s carbon footprint will come from transportation, housing and food. The average carbon footprint for a person in the United States is 16 tons, one of the highest rates in the world. Globally, the average carbon footprint is closer to 4 tons. To have the best chance of avoiding a 2℃ rise in global temperatures, the average global carbon footprint per year needs to drop to under 2 tons by 2050. Lowering individual carbon footprints from 16 tons to 2 tons doesn’t happen overnight! By making small changes to our actions, like eating less meat, taking fewer connecting flights and line drying our clothes, we can start making a big difference. How to calculate Carbon Footprint: 1. Multiply your monthly electric bill by 105 2. Multiply your monthly gas bill by 105 3. Multiply your monthly oil bill by 113 4. Multiply your total yearly mileage on your car by .79 5. Multiply the number of flights you’ve taken in the past year (4 hours or less) by 1,100 6. Multiply the number of flights you’ve taken in the past year (4 hours or more) by 4,400 7. Add 184 if you do NOT recycle newspaper 8. Add 166 if you do NOT recycle aluminum and tin 9. Add 1-8 together for your total carbon footprint Keep in mind that an “ideal” carbon footprint (or a “low” footprint) is anywhere from 6,000 to 15,999 pounds (about 7257.02 kg) per year. 16,000-22,000 is considered average. Under 6,000 is considered very low. ways to reduce your Carbon Footprint: Calculate Your Carbon Footprint When your goal is reducing greenhouse gas emissions, the first thing to do is to calculate your current carbon footprint. Once you understand where your emissions come from, you can take steps to reduce your impact. Drive Less For every mile that you walk, bike, carpool, or take on mass transit instead of driving, you save one pound of carbon emissions. As a bonus, walking or biking to work are great ways to get a little exercise. Switch to an Electric or Hybrid Car Don’t rush out and buy a new car if you already have a perfectly serviceable vehicle. However, if you plan on replacing your current car anyway, a fuel-efficient vehicle can make a huge dent in your carbon footprint. An improvement of just 3 miles per gallon in fuel efficiency can save you 3,000 pounds (about 1360.78 kg) of CO2 annually. Even better, opt for a pre-owned hybrid or fuel-efficient car. Travel Smart Though you might want to venture off to far-flung vacation destinations, jet fuel is a major contributor to carbon emissions. Instead of jet-setting around the world, consider taking your vacation closer to home. For every 1,600 miles (about 2574.95 km) of air travel you avoid, you can save 720 pounds of carbon emissions. Maybe you can take a road trip in that new electric car for maximum energy savings. Switch to Renewable Energy Power plants are the single largest source of greenhouse gasses, especially coal-burning power plants, which produce more than half the electricity in the United States.[6] Fortunately, thanks to the deregulation of the energy industry, you have the power to choose to make a difference when choosing your energy provider. Opt for an energy provider that uses green energy sources like solar, wind, geothermal, and hydro energy. We offer green energy plants in all the markets we serve, so always consider your options when choosing your next energy provider. Consider Solar Panels Even better, generate your own green energy! The sun will continue to shine for billions of years and provide free heat and light. Install some solar panels on your roof to harvest this natural, abundant energy. Solar panels can cost a little money upfront, but federal and state governments often offer tax incentives for the carbon offsets created by renewable energy. Make Your Home More Efficient Making your home more energy efficient won’t just help save the environment—it’ll help save you money too. Use caulk, insulation, and weather stripping to seal any air leaks in your home. Upgrade your incandescent lights to energyefficient LED lighting. You’ll save money on your energy bill, reduce your carbon footprint, and increase the comfort of your home. Upgrade to a Smart Thermostat Turning your thermostat just 2 degrees cooler in winter and 2 degrees warmer in summer can save 2,000 pounds of CO2 each year.[4] To get the most savings in both money and energy, invest in a smart thermostat. A smart thermostat is a Wi-Fi enabled device that automatically adjusts temperature settings in your home for peak energy efficiency. As a bonus, some state and local governments offer tax rebates when you install a smart thermostat, and some energy providers offer discounts on the devices. Get Energy Efficient Appliances Thinking about buying a new washing machine? When you buy new appliances, upgrade to energy-efficient models. In the United States, look for the EPA’s ENERGY STAR label. Energy-efficient appliances generally cost a little more upfront, but the long-term savings are astonishing. If you switched to energy-efficient appliances in your home, you could save $11,000 on your energy bills and save about 130,000 pounds (about 58966.96 kg) of greenhouse gas emissions over the lifetime of the products. If every home in the U.S. used energy-efficient appliances, we would eliminate 175 million tons of greenhouse gas emissions and collectively save $15 billion (about $46 per person in the US) in energy costs every year. If all Americans just switched to energy-efficient refrigerators, the U.S. would need 30 fewer power plants than we currently use. Unplug Electrical Devices When Not in Use Many appliances, including TVs, computers, air conditioners, and microwaves, continue to draw power even when turned off. Each device in “standby mode” draws very little power on its own, but all together, it can account for as much as 10% of residential energy use. If you’re not using a device, don’t just turn it off, unplug it. Flipping the switch on a power strip works as well and is a simple solution if you have a bunch of computers or entertainment devices that all share an outlet. Buy Locally sourced Food Those roasted Hawaiian macadamia nuts might be delicious, but unless you live on the Big Island, those nuts had to be put on a boat or plane and shipped thousands of miles to get to your local grocery store. Every mile that food has to be transported via boat, plane, train, truck, or car will add to the product’s carbon footprint. Look for fresh local food options at a nearby farmer’s market. If that’s too much of a hassle, even some grocery stores are now offering local options. Another option is signing up for a CSA (community supported agriculture) or a service that finds homes for “ugly” produce like Imperfect Produce or Hungry Harvest. Start a Home Garden Food can’t get much more local than what you grow in your own backyard. Research the fruits and veggies that grow best in your climate and reap the rewards. If you’re an apartment dweller and space is limited, you can still get in on the action with a small window box herb garden or a dwarf tree. Lemons, limes, pomegranates, kumquats, and some orange varieties can be grown indoors in containers. Eat Less Meat Even more effective than eating local is eating vegetarian. Meat has a huge carbon footprint because of the inefficient transformation of plant energy to animal energy. Billions of animals must be fed every year, and all that feed has been grown, harvested, transported. Animal agriculture is also a leading cause of deforestation in the Amazon to make space for grazing cattle. What’s worse, all those animals also release carbon in the form of methane—a greenhouse gas that’s significantly more effective at trapping heat in our atmosphere than CO2. Going vegetarian even just one day per week will reduce your carbon footprint more than eating exclusively local food. Don’t Waste Water Pumping, treating, and heating water takes a surprisingly high amount of energy. In fact, 3% of the United States energy is used just to pump and treat water. Cutting down on water waste reduces energy costs and reduces greenhouse gas pollution. Take simple steps to save water in your home. Turn off the faucet while you brush your teeth, take showers instead of baths, and fix all leaky faucets and fixtures. A leaky toilet alone can waste up to 200 gallons of water a day and can often be fixed for just a couple bucks worth of parts and seals from a home improvement store. Reduce, Reuse, and Recycle The three R’s—reduce, reuse, recycle—have been part of the American lexicon for decades. There are good reasons for the staying power or this iconic phrase. It’s simple, memorable, and the advice is just as good today as it was when it was first uttered. Reducing, reusing, and recycling in your home conserves energy and reduces the greenhouse gas emissions from resource extraction, manufacturing, transportation, storage, and disposal. By recycling just half your household waste, you can save 2,400 pounds of carbon dioxide per year. Trying to go a little further? The zero-waste movement has added two additional R’s: refuse and rot. Refuse to support companies with exploitative manufacturing practices, refuse to buy new when you can buy used, and simply make do with what you ready have by repairing items. Rot seems like an odd R, but it’s related to composting. If you have the space—or the option to drop off your organic waste—be sure to compost your veggie scraps, eggshells, coffee grounds, tea leaves, paper waste, old leftovers (not meat), and even natural textiles. Fast-fashion vs. Long-lasting Clothing Do you find yourself getting rid of clothes that wear out too fast? Or maybe you’re shopping a little too often and waste money on things that don’t really suit you. Cut back on the waste by only buying quality clothing that is made to last in classic cuts that will last you more than a handful of seasons. Avoid clothing trends that change every year. Instead, go with timeless fashions that will look good for years to come. If you have a tear in your favorite trousers, don’t just throw them away. Take them to a tailor to have them professionally mended. Clothing repairs generally only cost a few bucks. It’s cheaper and less wasteful than buying new clothes. New vs. Used Taking care of your stuff isn’t just for clothes. There was a time when people actually fixed broken things instead of tossing them out and buying new stuff. Let’s bring that back. Fridge on the fritz? Do an internet search for appliance repair shops in your area. If you pay a little more upfront for quality and remember to properly maintain your car, computer, phone, and other possessions—they’ll give you years of loyal service. Like with clothes, make sure you always buy quality. Some manufacturers are known for their long-lasting products. The companies you want to purchase from should provide warranties and service the previous versions of their products. On the Road, in the Sky One of the most effective ways to begin thinking about how to reduce your carbon footprint is to reconsider how much, and how often, you travel. Drive Less In November 2017 carbon dioxide emissions from transportation surpassed emissions from electricity generation as the top source of greenhouse gases. Why? Electricity generation is shifting away from the use of coal to more renewable sources and natural gas. Going carless for a year could save about 2.6 tons of carbon dioxide, according to 2017 study from researchers at Lund University and the University of British Columbia — that’s a little more than a roundtrip transatlantic flight. How can you stop using a car? Try taking a train, bus or better yet, riding a bike. But let’s be realistic. You will likely need to use a car this year. So, when you do, here are some tips to make your trip more climate-friendly: Go easy on the gas and brakes — driving efficiently can help to reduce emissions. Drive “like you have an egg under your foot,” recommends Brian West, an expert in fuel and engine research from the Oak Ridge National Laboratory, which researches energy use and solutions in the United States. Regularly service your car to make it more efficient. Check your tires. Keeping tires pumped correctly can reduce emissions. “Low tire pressure will hurt your fuel economy,” Mr. West said. Air conditioning and intensive city driving can make emissions creep up. Cut down on these as often as possible. Use cruise control on long drives — in most cases, this can help to save gas. Don’t weigh your car down with extra things that you don’t need on your trip. Carpool — this way, you’re splitting emissions between the number of people in the car. Buying a New Car? Shopping for a new car is a great opportunity to consider how you can reduce your personal carbon footprint. When choosing between gasoline, hybrid and electric, there are several factors to consider, which will determine how “clean” your purchase is. The following can help: Search for cars here, where they are rated by efficiency. Think about where you will be charging up. What an efficient hybrid and electric cars are also depends on what state you live in — different states rely on fossil fuels to different degrees. Weigh up both production and use emissions using this app. (Making electric cars has a carbon footprint, too.) Look for the Smart Way certification. Remember: Cars with lower emissions can often end up costing less to operate. Fly Less Fly often? Taking one fewer long round-trip flights could shrink your personal carbon footprint significantly. Think about it this way: If you use public transportation often, and fly home to visit family just occasionally, your carbon footprint might still be relatively sustainable, but if you drive and fly a lot, your emissions will be higher. If you can’t avoid flying, one way of making up for the emissions caused is to offset them by donating money to sustainable projects, such as supplying efficient stoves to rural homes, or projects which help farmers in India sell crop waste as biomass. Sometimes airlines will give you this option themselves, or you can use a third-party like Atmos fair or Terra pass. (You can calculate the emissions per flight here.) Sustainable living around the house Use LED lighting or CFL bulbs instead of incandescent lighting as it’s proven to last longer, which reduces the need to keep purchasing light bulbs. Put on an extra layer of clothing instead of turning on the heating. Seriously, doubling up on your socks does wonders! Open your blinds and use as much natural light as possible before switching on your light bulbs. You all get to enjoy some more sunshine Turn off your lights when you leave a room. Put up a no junk mail sign on your letterbox to limit the amount of paper waste. Hang your wet clothes on a drying line or rack instead of using a powered dryer. Hand washes your clothes, particularly if you only have a few items to clean. Start timing your showers. Or better yet, invest in a shower timer. Grow your own herbs, fruit and vegetables even if it’s just a few pots around the house, it all helps! Turn off your devices at night, including your Wi-Fi box. Get a water-saving showerhead. Use organic fertilizers. Purchase recycled toilet paper with plastic-free packaging. On the topic of toilets, use scrap paper, newspaper, or toilet paper to collect pet poo. Sustainable commuting Buy a second-hand bicycle and start using it to commute everywhere. Take the stairs over the elevator. This also doubles up as a leg workout. Use public transport. It’s also an excellent opportunity to catch up on reading and other things you couldn’t do if you were driving. Listening to our podcast is a great way to pass time Organize carpools for work, sports, events and other activities. There are some services where you can find people to commute with for interstate travel. If available, use rent-a-bike services in your city. Ditch your car and embrace car-free living. But, if you’re in the market for a new car, invest in electric-powered vehicles. Reduce the amount of time you spend taking flights. A positive fact, some airlines are trying to implement zero-waste practices. Sustainable grocery shopping Don’t use plastic bags at checkout. Instead, take your own bags for groceries. Buy your produce in bulk from your local farmer’s markets. Avoid buying plastic-wrapped products, opt for a paper bag instead. Stop buying bottled water! Shop at bulk food stores for any goods. Better yet, take in your own jars. Take your own paper bags or a container when buying fresh bread from a bakery. Bring your own containers to the deli. If you drink beer, take a growler to your local brewery. Sustainable fashion Buy second-hand clothes where possible. Become a minimalist and take the 333-time capsule challenge. Invest in better quality items that last longer. Slow fashion trumps fast fashion. Support fashion brands that are ethical and environmentally conscious. Learn how to find sustainable materials when shopping. Reduce how frequently you wash your clothes. Repurpose old clothes as rags or donate to a local mechanic if no longer wearable. Acquire basic sewing skills to patch holes and sew buttons back on. Or if you have a bigger job, go to an alterations shop. Transform old clothes into new garments. For example, a dress you don’t wear can be turned into a top and skirt. Shop at sustainable clothing outlets that offer post-purchase repair services. Open wardrobe rack Go paperless opt to receive digital letters and notices. Send electronic wedding invitations. Read this article on how to use an app to scan and organize all of your paperwork. Ask suppliers to email you a receipt instead of printing one out for you. Use your phone, tablet or computer for notetaking. Sustainable office Collect scrap paper in a tray. Turn off your computer before leaving work. Get rid of your home printer. This will encourage you to seek a printer when you absolutely need it. Unplugged workstation from ports overnight to reduce phantom power. If you need business cards, use an eco-friendly printer. Add small pot plants to your workspace. Always use double-sided printing where possible. Sustainable baby items Switch to cloth diapers. Use stainless steel drink bottles (or at least plastic-free). Get a wooden baby teether. Use reusable nursing pads. Look for wooden baby rattles. Use eco-friendly (plastic-free) bibs. Source second-hand toys or join a toy library. If you are buying toys, find toys made from natural fibers. Use dummies/pacifiers made from natural rubber. Use coconut oil as a diaper balm. Sustainable kitchen Juice off the cuts of your vegetables and fruits. Repurpose glass jars. Use washable metal straws instead of disposable plastic straws. Limit the use of hot water when hand washing dishes. Use clothes instead of paper towels. Make your own coffee instead of buying takeaway. Ditch your bin liner or use newspaper instead. Start composting. Here’s a guide to help you get started. Use a dishwasher instead of handwashing. Try making homemade cleaners. Reduce your food waste by eating only what you need. Invest in a pressure cooker and reduce your cooking time and energy used by 70%! Example of dry foods in reusable glass jars Sustainable beauty Go makeup-free for one week each month. Limit the amount of water you use to brush your teeth. Make your own face cleanser and scrub. Check out this super simple 2-ingredient body scrub recipe. Use reusable cotton pads for removing your makeup. Don’t leave the water running when cleaning your face. Consider using shampoo bars to reduce packaging. Read labels for toxic and harmful chemicals. Share products with your family, e.g., deodorant, shampoo etc. Use multipurpose bathroom products. Buy bigger bottles less often, as opposed to smaller bottles more often. It also works out to be cheaper. Use body scourers made from natural materials over plastic ones. Donate used and unwanted products to places like Project Beauty Share. Use reusable pads or menstrual cups. Sustainable gifting Save gift bags and boxes for future use. Give people experiences instead of things. Create and send a thoughtful video. Make a hand-written note from recycled materials. Donate to a charity or cause instead of giving a gift. Make jewelry, hats, scarves, from existing materials. Offer to babysit. Make a home-cooked meal or bake a cake. Many sustainable gifts also happen to be minimalist gifts. Check out our minimalist gift guide for more ideas. Sustainable technology Use solar energy charges for your smartphones and tablets. Use rechargeable batteries where possible. Recycle your devices when ready to dispose of. Donate your old devices to schools and other institutions. Use e-waste recycling programs when disposing of your electronics. Switch to cloud computing and move away from physical hard drives and servers. Get your devices repaired instead of buying new ones. Switch to a sustainable search engine like Ecosia. They use some of their profits to plant trees, and they run on 100% renewable energy. If you do need to buy new appliances, look second hand first. But if you can’t find something second-hand, buy energy-efficient technology. Sustainable lifestyle Spend more time outside. Eat more whole foods. Better yet, go vegan! Become a member of your local food co-op. Plant a tree with someone. Borrow books from the library instead of purchasing them directly. Read your favorite newspaper publications online instead of reading the paper versions. Create a video, a slideshow or a blog post of how you implemented these ideas and publish them publicly. Regularly prepare home-cooked meals and save on takeaway storage containers. Adopt pets instead of buying them from a breeder. There are so many orphaned pets out there who need a family. And the same can be said for children! Stop accepting disposable cutlery and napkins. Have a sniffle? Carry around your own handkerchief instead of using disposable tissues. Use stainless steel drink bottles. There are several ways to reduce transportation emissions and maintain a good carbon footprint: Use public transportation: Taking public transportation instead of driving alone can significantly reduce transportation emissions. Buses, trains, and subways are all more fuel-efficient than individual cars, and can often be faster and more convenient than driving in congested areas. Walk or bike: If you live close to your workplace or other destinations, consider walking or biking instead of driving. This not only reduces emissions, but also promotes physical activity and can save money on gas and vehicle maintenance. Carpool: If driving is necessary, consider carpooling with others who are traveling to the same destination. This can reduce the number of vehicles on the road and therefore emissions. Choose fuel-efficient vehicles: When purchasing a new vehicle, choose one with a high fuel efficiency rating. Hybrid or electric vehicles are even better options as they have very low or no emissions. Keep your vehicle well-maintained: Regular maintenance of your vehicle can help it operate more efficiently, reducing emissions. This can include regular oil changes, tire inflation, and air filter replacement. Reduce driving speed: Higher speeds result in greater fuel consumption and emissions. By driving at a lower speed, you can reduce your emissions and save on fuel costs. By taking these steps, you can reduce your transportation emissions and maintain a good carbon footprint. Additionally, you can advocate for policies and regulations that support sustainable transportation, such as investing in public transportation infrastructure or implementing vehicle emissions standards. There are several ways to support renewable energy and maintain a good sustainable living by taking care of your carbon footprint: Install solar panels: One way to directly support renewable energy is by installing solar panels on your home or property. Solar energy is a clean and renewable source of power that can reduce your reliance on fossil fuels and lower your carbon footprint. Purchase renewable energy credits: If you are unable to install solar panels, you can still support renewable energy by purchasing renewable energy credits. These credits represent the environmental benefits of renewable energy generation and can be purchased through your utility company. Choose a green energy supplier: Some energy companies offer renewable energy options for their customers. By choosing a green energy supplier, you can support the growth of renewable energy and reduce your carbon footprint. Advocate for renewable energy policies: You can also support renewable energy by advocating for policies and regulations that encourage its growth. This can include contacting your elected representatives, participating in public comment periods on proposed regulations, and supporting organizations that promote renewable energy. Invest in renewable energy companies: If you have the financial means, you can invest in renewable energy companies or funds that focus on renewable energy projects. This not only supports renewable energy growth but can also provide a financial return on your investment. By taking these steps, you can support the growth of renewable energy and maintain a good sustainable living by taking care of your carbon footprint. Additionally, you can reduce your energy consumption through energy efficiency measures such as using energy-efficient appliances, turning off lights and electronics when not in use, and insulating your home to reduce heating and cooling needs. Here is an example of a daily routine for a person to minimize his carbon footprint: Morning: Wake up and open windows to let fresh air in instead of using air conditioning. Use a reusable water bottle to drink water instead of single-use plastic bottles. Use a low-flow showerhead and take shorter showers to conserve water and reduce energy use. Use a bamboo toothbrush and toothpaste tabs instead of traditional plastic toothbrushes and toothpaste tubes. Eat a plant-based breakfast or choose products with low environmental impact, such as locally sourced, organic food. During the day: Use public transportation, carpool, bike or walk to work or other destinations instead of driving alone. Bring a reusable coffee mug and food containers when going out for meals or coffee breaks. Use a laptop instead of a desktop computer, as laptops use less energy. Print only when necessary and use both sides of the paper. Use a reusable bag instead of single-use plastic bags for shopping. Evening: Turn off and unplug electronics and lights when not in use. Cook with energy-efficient appliances and reduce meat consumption. Use eco-friendly laundry detergent and wash clothes in cold water. Use a reusable cloth towel instead of paper towels. Spend time outside in nature and appreciate the environment. By incorporating these practices into his daily routine, a man can minimize his carbon footprint and contribute to a more sustainable lifestyle. It is important to remember that everyone's circumstances are different, and there are many other ways to minimize carbon footprint depending on individual needs and resources."


st.set_page_config(page_title="key to sustainable living", page_icon=":tree:")

st.markdown(
    "<h1 style='text-align: center;'>LETS LEAD AN ECO-FRIENDLY LIFE</h1>",
    unsafe_allow_html=True,
)

with st.sidebar:
    temp_r = st.slider("Temperature", 0.1, 0.9, 0.3, 0.1)
    chunksize = st.slider("Chunk Size for Splitting Document ", 256, 1024, 300, 10)
    clear_button = st.button("Clear Conversation", key="clear")

text_splitter = CharacterTextSplitter(chunk_size=chunksize, chunk_overlap=10)
embeddings = CohereEmbeddings(model="large", cohere_api_key="vLuTQVcIyLBLbb5UqNJb4sFitqv1D2g8mriKoFoi")

def PDF_loader(fyl):
    prompt_template = """ 
    You are an AI Chatbot developed to provide users with tips and suggestions for leading a sustainable life and reducing their carbon footprint. Based on the information in the attached PDF, you can offer tailored recommendations for sustainable living practices that can help users to reduce their impact on the environment. Use the following pieces of context to answer the question at the end. Greet Users!!
    {fyl}
    {question}
    """
    PROMPT = PromptTemplate(
        template=prompt_template, input_variables=["fyl", "question"]
    )
    chain_type_kwargs = {"prompt": PROMPT}
    texts = text_splitter.split_documents(file)
    global db
    db = Chroma.from_documents(texts, embeddings)
    retriever = db.as_retriever()
    global qa
    qa = RetrievalQA.from_chain_type(
        llm=Cohere(
            model="GPT-3",
            temperature=temp_r,
            cohere_api_key="vLuTQVcIyLBLbb5UqNJb4sFitqv1D2g8mriKoFoi",
        ),
        chain_type="stuff",
        retriever=retriever,
        return_source_documents=True,
        chain_type_kwargs=chain_type_kwargs,
    )
    return "Ready"

PDF_loader(file)
st.markdown(
"<h3 style='text-align: center;'>Hello i am MOLLY an Eco-Friendly instructor bot "
+ "</h3>",
unsafe_allow_html=True,)

if "chat_history" not in st.session_state:
    st.session_state["chat_history"] = []
if "generated" not in st.session_state:
    st.session_state["generated"] = []
if "past" not in st.session_state:
    st.session_state["past"] = []

def generate_response(query):
    result = qa({"query": query, "chat_history": st.session_state["chat_history"]})

response_container = st.container()
container = st.container()

with container:
    with st.form(key="my_form", clear_on_submit=True):
        user_input = st.text_input("You:", key="input")
        submit_button = st.form_submit_button(label="Send")

    if user_input and submit_button:
      output = generate_response(user_input)
      print(output)
      st.session_state["past"].append(user_input)
      st.session_state["generated"].append(output)
      st.session_state["chat_history"] = [(user_input, output)]

if st.session_state["generated"]:
    with response_container:
        for i in range(len(st.session_state["generated"])):
            message(
                st.session_state["past"][i],
                is_user=True,
                key=str(i) + "_user",
                avatar_style="adventurer",
                seed=123,
            )
            message(st.session_state["generated"][i], key=str(i))

if clear_button:
    st.session_state["generated"] = []
    st.session_state["past"] = []
    st.session_state["chat_history"] = []
